---
title: package.json表里版本号前面的 ^ 与 ~ 的区别
date: 2017-07-13 11:23:10
tags: npm 
---

如图，在package.json中的依赖包版本号前默认都是带有前缀 ^ 或者 ~

 
 ![Mou icon](/uploads/packagejson.png)



 那么 ^ 和 ~ 有什么作用？两者又有什么区别呢？
 首先我们来看下常见npm依赖包版本号的组成规则以及其含义：
   版本号一般由3个数字组成，如 1.2.3
   其中第一个数字表示major大版本号，表示含有破坏性更新和新特性才会改变这个大版本号；
   第二位数字是表示minor版本，更新活修改一些次要的功能时改变这个版本号；
   第三位数字表示patch版本，通常会进行日常bugfix更新会更新这个版本号

   他们的作用和区别就是

   			~会匹配最近的小版本依赖包，比如~1.2.3会匹配所有1.2.x版本，但是不包括1.3.0
   			^会匹配最新的大版本依赖包，比如^1.2.3会匹配所有1.x.x的包，包括1.3.0，但是不包括2.0.0

   	那么该如何选择呢？
   			当然你可以指定特定的版本号，直接写1.2.3，前面什么前缀都没有，这样固然没问题，但是如果依赖包发布新版本修复了一些小bug，那么需要手动修改package.json文件；~和^则可以解决这个问题。


   			但是需要注意^版本更新可能比较大，会造成项目代码错误，因为有可能存在package.json使用^1.5.7造成的，但使用了^之后自动更新到1.6版本的包与现有代码不兼容。

   			所以建议使用~来标记版本号，这样可以保证项目不会出现大的问题，也能保证包中的小bug可以得到修复。


   	这个图能让你对 ^ ~ 的理解一目了然 

![Mou icon](/uploads/wheelbarrel-with-tilde-caret-white-bg-w1000.jpg)
